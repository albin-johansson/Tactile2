cmake_minimum_required(VERSION 3.16)

project(tactile-proto CXX)

file(GLOB_RECURSE PROTO_FILES CONFIGURE_DEPENDS *.proto)

protobuf_generate_cpp(PROTO_SOURCES PROTO_HEADERS ${PROTO_FILES})

add_library(${TACTILE_PROTO} ${PROTO_HEADERS} ${PROTO_SOURCES})

set_target_properties(${TACTILE_PROTO}
                      PROPERTIES
                      CXX_STANDARD 23
                      CXX_EXTENSIONS OFF
                      )

target_include_directories(${TACTILE_PROTO} SYSTEM PUBLIC ${CMAKE_CURRENT_BINARY_DIR})

target_link_libraries(${TACTILE_PROTO} PRIVATE protobuf::libprotobuf)